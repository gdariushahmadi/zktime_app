# راهنمای ساخت و استفاده از برنامه اجرایی ZKTeco Web Interface

## مراحل ساخت فایل اجرایی

### روش ۱: استفاده از فایل Batch (ساده‌ترین روش)

1. **ساخت نسخه عادی (بدون پنجره console):**
   - فایل `build_exe.bat` را دوبار کلیک کنید
   - منتظر بمانید تا فرآیند ساخت تمام شود
   - فایل اجرایی در پوشه `dist\ZKTecoWebInterface.exe` قرار می‌گیرد

2. **ساخت نسخه debug (با پنجره console برای دیدن خطاها):**
   - فایل `build_debug.bat` را دوبار کلیک کنید
   - این نسخه خطاها را نمایش می‌دهد

### روش ۲: استفاده از دستور مستقیم

در PowerShell یا CMD:
```powershell
# نصب PyInstaller
pip install pyinstaller

# ساخت نسخه عادی
python -m PyInstaller --onefile --name ZKTecoWebInterface web_interface.py

# ساخت نسخه debug
python -m PyInstaller --onefile --name ZKTecoWebInterface_Debug web_interface.py
```

## استفاده از برنامه

### ۱. اجرای برنامه
- فایل `ZKTecoWebInterface.exe` را از پوشه `dist` اجرا کنید
- برنامه در پس‌زمینه اجرا می‌شود
- آیکون آبی در System Tray (کنار ساعت ویندوز) ظاهر می‌شود

### ۲. دسترسی به رابط وب
- مرورگر خود را باز کنید
- به آدرس `http://localhost:8080` بروید
- رابط وب فارسی با طراحی زیبا نمایش داده می‌شود

### ۳. امکانات System Tray
روی آیکون در System Tray کلیک راست کنید:
- **باز کردن رابط وب**: باز کردن مرورگر و رفتن به آدرس برنامه
- **نمایش وضعیت**: نمایش پیام وضعیت برنامه
- **فعال‌سازی اجرای خودکار**: اجرای برنامه هنگام بوت ویندوز
- **خروج**: بستن کامل برنامه

### ۴. حل مشکلات

#### مشکل: آیکون در System Tray ظاهر نمی‌شود
- از نسخه debug استفاده کنید تا خطاها را ببینید
- مطمئن شوید که پکیج‌های `pystray` و `pillow` نصب شده‌اند
- برنامه را با دسترسی Administrator اجرا کنید

#### مشکل: پنجره مشکی باز و بسته می‌شود
- از نسخه debug استفاده کنید
- فایل log را بررسی کنید
- مطمئن شوید که پورت 8080 آزاد است

#### مشکل: خطا در همگام‌سازی
- تنظیمات دستگاه را در `config.py` بررسی کنید
- اتصال شبکه به دستگاه را تست کنید
- فایل log را برای جزئیات خطا بررسی کنید

### ۵. فایل‌های مهم
- `ZKTecoWebInterface.exe`: برنامه اجرایی اصلی
- `device_sync.log`: فایل log برای بررسی خطاها
- `config.py`: تنظیمات دستگاه و سرور

### ۶. حذف برنامه
- روی آیکون System Tray کلیک راست کنید
- گزینه "خروج" را انتخاب کنید
- یا از Task Manager استفاده کنید

## نکات مهم
- برنامه نیاز به دسترسی شبکه برای اتصال به دستگاه ZKTeco دارد
- پورت 8080 باید آزاد باشد
- برای اجرای خودکار، برنامه نیاز به دسترسی Administrator دارد
- فایل log در همان پوشه‌ای که برنامه اجرا می‌شود ایجاد می‌شود 